---
dist: bionic
language: shell
os: linux
services:
  - docker
stages:
  - linting
jobs:
  fast_finish: true
  include:
    - name: "Linting"
      stage: linting
      language: shell
      cache:
        directories:
          - $HOME/.cache/pip
          - $GEM_HOME
          - vendor/bundle
          - $GOPATH/pkg/mod
          - $HOME/.nvm/versions
      install:
        - sudo scripts/linux/ci/install-dependencies.sh "$CMAKE_VERSION"
        - sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10
        - scripts/linux/ci/install-node.sh
        - nvm use
        - scripts/linux/ci/install-linting-tools.sh
      script: |
        scripts/linux/ci/lint.sh || exit 1
